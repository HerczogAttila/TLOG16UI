 <!DOCTYPE html>
<html>
<head>
    <title>TLOG16UI</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/datejs/build/date.js"></script>
    <script>
        days_labels = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];
        months_labels = ['January', 'February', 'March', 'April',
                     'May', 'June', 'July', 'August',
                     'September', 'October', 'November', 'December'];
        days_in_month = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        
        var now = new Date();
        var selected_day = now.getUTCDate();
        var selected_month = now.getMonth();
        var selected_year = now.getFullYear();
        
        var month = now.getMonth();
        var year = now.getFullYear();
        
        function load() {
            var firstDay = new Date(year, month, 1);
            var startingDay = firstDay.getDay();
            
            var text = "";
            for(i = 1; i < startingDay; i++) {
                text += "<li></li>";
            }
            
            days = days_in_month[month];
            if (month === 1) {
                if ((this.year % 4 === 0 && this.year % 100 !== 0) || this.year % 400 === 0){
                    days = 29;
                }
            }
            for (i = 1; i <= days; i++) {
                if(i === selected_day && month === selected_month && year === selected_year)
                    text += "<li><span class=\"active\">" + i + "</span><br>EM: 10</li>";
                else
                    text += "<li><label onclick=\"set_day(" + i + ")\">" + i + "</label><br>EM: 10</li>";
            }
            
            document.getElementById("days").innerHTML = text;
            document.getElementById("month_name").innerHTML = months_labels[month] + "<br><span style=\"font-size:18px\">" + year + "</span>";
        }
        
        function prev_month() {
            month--;
            if(month < 0) {
                month = 11;
                year--;
            }
            load();
        }
        
        function next_month() {
            month = (month + 1) % 12;
            if(month === 0) year++;
            
            load();
        }
        
        function set_day(d) {
            selected_day = d;
            selected_month = month;
            selected_year = year;
            
            load();
        }
    </script>
</head>
<body onload="load()">
    <div class="container">
        <div class="row">
            <div class="navigation col-md-12">
                <ul>
                    <li><a href="index.html" class="active">Calendar</a></li>
                    <li><a href="tasks.html">Tasks</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="month col-md-12">
                <ul>
                    <li class="prev"><label onclick="prev_month()">&#10094;</label></li>
                    <li class="next"><label onclick="next_month()">&#10095;</label></li>
                    <li id="month_name" class="title"></li>
                </ul>
            </div>
            <div class="col-md-12">
                <ul class="table_head">
                    <li>Mo</li>
                    <li>Tu</li>
                    <li>We</li>
                    <li>Th</li>
                    <li>Fr</li>
                    <li>Sa</li>
                    <li>Su</li>
                </ul>

                <ul id="days" class="table_field"></ul>
                <p class="info">Required working hours: 40</p>
                <p class="info">Workdays: 40</p>
                <p class="info">Required minute: 40</p>
                <p class="info">Minute: 40</p>
                <p class="info">Extra minute: 40</p>
            </div>
        </div>
    </div>
</body>
</html>
